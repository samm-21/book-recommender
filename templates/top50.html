<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Book Recommender System</title>
    <!-- Latest compiled and minified CSS -->
    {#
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">#}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/style.css">

    <style>
        body::before {
            background-image: url('/static/Book-Recommendations_full_990.jpg');
        }
    </style>
</head>

<body>
    <div class="background">.</div>

    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="/"
                style="color: crimson; font-family: 'Comic Sans MS'; font-size: xx-large">TheBookNerd</a>
            <div class=" navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav" style="margin: 1rem">
                    <b><a class="nav-link" href="/">Home</a></b>
                    <b><a class="nav-link" href="/top50">Top 50</a></b>
                    <b><a class="nav-link" href="/recommend">Recommend</a></b>
                    <b><a class="nav-link" href="/searchbygenre">Search by Genre</a></b>
                    <b><a class="nav-link" href="/urbooks">Underrated Books</a></b>
                </div>
                <div class="navbar-nav">
                    <form action="/surprise" method="post">
                        <button formmethod="post" type="submit" class="btn btn-success"
                            style="font-family: 'Comic Sans MS'; font-size: large; margin-right: 5px;">Surprise
                            Me!</button>
                    </form>
                </div>
            </div>
        </div>
    </nav>

    {# <nav class="navbar ">#}
        {# <a class="navbar-brand">My Book recommender</a>#}
        {# <ul class="nav navbar-nav">#}
            {# <li><a href="/">Home</a></li>#}
            {# <li><a href="/recommend">Recommend</a></li>#}
            {# <li><a>Contact</a></li>#}
            {# </ul>#}
        {# </nav>#}

    <div class="container">
        <!-- <div class="row"> -->
        <div class="col-md-12">
            <b>
                <h1 style="margin: 1rem; color: white;">Top 50 Books</h1>
            </b>
        </div>

        <div class="card-container">
            {% for book in books %}
                <div class="col-md-3">
                    <a href="{{ url_for('book_detail', isbn=book['ISBN']) }}">
                        <div id="card" class="card">
                            <div class="card-body">
                                <img class="card-img-top" src="{{ book['Image-URL-M'] }}">
                                <b style="font-size: large; margin: 0px 0.25px">
                                    <li>{{ book['Book-Title'] }}</li>
                                </b>
                                <li style="color: darkslategray">{{ book['Book-Author'] }}</li>
                                <li style="color: darkslategray">Votes - {{ book['num-ratings'] }}</li>
                                <li style="color: darkslategray">Rating - {{ book['avg_rating'] | round }}</li>
                                <!-- <p>ISBN: {{ book['ISBN'] }}</p> -->
                            </div>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>

</body>
<script>
    const cards = document.querySelectorAll("#card");
    function redirectToBook(isbn) {
        window.location.href = '/book/' + isbn;
    }
    cards.forEach(card => {
        card.addEventListener('click', () => {
            console.log("clicked");
        })
    });
</script>

</html>
